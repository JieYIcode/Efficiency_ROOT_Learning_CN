<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>高实用性代码收录: Github操作指南</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Root6Icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">高实用性代码收录<span id="projectnumber">&#160;v0.1</span>
   </div>
   <div id="projectbrief">可读 实用 高效</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2Github_2_xE4_xBB_xA3_xE7_xA0_x81_xE5_xBA_x93_xE6_x93_x8D_xE4_xBD_x9C_xE6_x8C_x87_xE5_x8D_x97.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Github操作指南</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md36"></a></p>
<p>我们以上传项目文件夹 <code>doc</code> 为例子来说明对Github常用的操作。 将你的 <code>docs</code> 文件夹上传到 GitHub 存储库中，可以通过以下步骤进行操作。</p>
<h1><a class="anchor" id="autotoc_md37"></a>
创建或准备 GitHub 存储库</h1>
<ol type="1">
<li><b>创建一个新的 GitHub 存储库（如果还没有）</b><ul>
<li>登录你的 GitHub 账号，然后点击页面右上角的 <b>“New repository”</b> 按钮，或者直接访问：<a href="https://github.com/new">Create a new repository</a>。</li>
<li><p class="startli">在创建存储库页面：</p><ul>
<li>输入存储库名称（如 <code>my-docs</code>）。</li>
<li>设置存储库为 <code>Public</code> 或 <code>Private</code>。</li>
<li>可选：添加 README 文件和 <code>.gitignore</code> 文件（通常选择 <code>None</code>）。</li>
</ul>
<p class="startli">&gt; [!IMPORTANT] &gt; &gt; 一般创建时不选择README文件，因为一但这样之后推送代码无法一次性推送到main分支</p><ul>
<li>点击 <b>“Create repository”</b> 按钮创建存储库。</li>
</ul>
</li>
</ul>
</li>
<li><b>获取存储库的 URL</b><ul>
<li>创建好存储库后，会进入存储库页面，点击页面右上角的 <b>“Code”</b> 按钮，选择 <code>HTTPS</code> 并复制存储库的 URL（例如 <code><a href="https://github.com/username/my-docs.git">https://github.com/username/my-docs.git</a></code>）。</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md38"></a>
本地初始化并上传</h1>
<ol type="1">
<li><p class="startli"><b>进入你的项目根目录</b></p>
<p class="startli">打开终端（Linux/macOS）或命令提示符（Windows），进入你项目的根目录。假设 <code>docs</code> 文件夹位于 <code>/path/to/your/project</code> 目录下：</p>
<div class="fragment"><div class="line">cd /path/to/your/project</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>初始化 Git 仓库</b></p>
<p class="startli">如果你还没有初始化 Git 仓库，可以通过以下命令进行初始化：</p>
<div class="fragment"><div class="line">git init</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>添加 <code>docs</code> 文件夹到 Git 仓库</b></p>
<p class="startli">将 <code>docs</code> 文件夹及其内容添加到 Git 仓库：</p>
<div class="fragment"><div class="line">git add docs</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>提交更改</b></p>
<p class="startli">提交 <code>docs</code> 文件夹到 Git 仓库：</p>
<div class="fragment"><div class="line">git commit -m &quot;Add docs folder for project documentation&quot;</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>将本地仓库与 GitHub 远程仓库关联</b></p>
<p class="startli">使用刚刚复制的 GitHub 存储库 URL，将本地仓库与 GitHub 远程仓库关联：</p>
<div class="fragment"><div class="line">git remote add origin https://github.com/username/my-docs.git</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>推送 <code>docs</code> 文件夹到 GitHub</b></p>
<p class="startli">将 <code>main</code> 分支（或 <code>master</code> 分支）推送到 GitHub 远程仓库：</p>
<div class="fragment"><div class="line">git push -u origin main</div>
</div><!-- fragment --></li>
</ol>
<dl class="section important"><dt>Important</dt><dd><br  />
 如果你main分支有README文件，那么以上命令无法进行推送，你可以改为用下面的master分支或者删除README文件</dd></dl>
<p>如果你使用的是 <code>master</code> 分支，请改为：</p>
<div class="fragment"><div class="line">git push -u origin master</div>
</div><!-- fragment --><p>推送完成后，前往你的 GitHub 存储库页面（例如 <code><a href="https://github.com/username/my-docs">https://github.com/username/my-docs</a></code>），检查 <code>docs</code> 文件夹是否已成功上传。</p>
<h1><a class="anchor" id="autotoc_md39"></a>
启用 GitHub Pages（可选）</h1>
<p>如果你希望将 <code>docs</code> 文件夹中的内容部署到 GitHub Pages 以便于在线查看，可以启用 GitHub Pages：</p>
<ol type="1">
<li>进入你的 GitHub 存储库页面。</li>
<li>点击页面顶部的 <b>“Settings”</b> 。</li>
<li>在左侧菜单中找到 <b>“Pages”</b> 选项。</li>
<li>在 <b>“Source”</b> 选项下拉菜单中，选择 <code>main</code>（或 <code>master</code>）分支，并将目录选择为 <code>/docs</code> 文件夹。</li>
<li>点击 <b>“Save”</b> 按钮保存配置。</li>
</ol>
<p>配置完成后，GitHub Pages 会生成一个 URL（如 <code><a href="https://username.github.io/my-docs/">https://username.github.io/my-docs/</a></code>），你可以通过该 URL 在线查看 <code>docs</code> 中的内容。</p>
<h1><a class="anchor" id="autotoc_md40"></a>
后续更新 <code>docs</code> 文件夹</h1>
<p>如果之后需要更新 <code>docs</code> 文件夹的内容，可以按照以下步骤：</p>
<ol type="1">
<li><p class="startli"><b>进入项目根目录并拉取最新内容</b></p>
<div class="fragment"><div class="line">cd /path/to/your/project</div>
<div class="line">git pull origin main</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>添加或更新 <code>docs</code> 文件夹内容</b></p>
<p class="startli">例如，新增一个文件或修改已有文件：</p>
<div class="fragment"><div class="line">git add docs</div>
<div class="line">git commit -m &quot;Update documentation&quot;</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>推送更新内容到 GitHub</b></p>
<div class="fragment"><div class="line">git push origin main</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md41"></a>
删除分支</h1>
<p>假设现在拥有两个分支 <code>master</code> 和 <code>main</code>，以删除 <code>master</code> 分支并保留 <code>main</code> 分支为例子 要删除 <code>master</code> 分支，可以分为两种情况：删除本地的 <code>master</code> 分支和删除远程的 <code>master</code> 分支。</p>
<h2><a class="anchor" id="autotoc_md42"></a>
1. 删除本地 <code>master</code> 分支</h2>
<ol type="1">
<li><p class="startli"><b>切换到其他分支（例如 <code>main</code>）</b></p>
<p class="startli">在删除 <code>master</code> 分支之前，必须确保当前分支不是 <code>master</code>。可以先切换到 <code>main</code> 分支或其他分支：</p>
<div class="fragment"><div class="line">git checkout main</div>
</div><!-- fragment --><p class="startli">确保切换到 <code>main</code> 分支后，再进行删除操作。</p>
</li>
<li><p class="startli"><b>删除本地 <code>master</code> 分支</b></p>
<p class="startli">使用以下命令删除本地 <code>master</code> 分支：</p>
<div class="fragment"><div class="line">git branch -d master</div>
</div><!-- fragment --><p class="startli">如果 <code>master</code> 分支有尚未合并的更改，Git 会拒绝删除操作。此时可以使用 <code>-D</code> 强制删除：</p>
<div class="fragment"><div class="line">git branch -D master</div>
</div><!-- fragment --><p class="startli">这样可以将本地的 <code>master</code> 分支强制删除，但要注意可能会丢失 <code>master</code> 分支中的未合并更改。</p>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md43"></a>
2. 删除远程 <code>master</code> 分支</h2>
<p>如果你还需要删除远程仓库（GitHub 上）的 <code>master</code> 分支，可以按照以下步骤操作：</p>
<ol type="1">
<li><p class="startli"><b>确认远程分支名称</b></p>
<p class="startli">首先，查看所有远程分支名称，确认 <code>master</code> 分支是否存在：</p>
<div class="fragment"><div class="line">git branch -r</div>
</div><!-- fragment --><p class="startli">输出结果类似于以下内容：</p>
<div class="fragment"><div class="line">origin/main</div>
<div class="line">origin/master</div>
</div><!-- fragment --><p class="startli">如果看到 <code>origin/master</code>，说明远程 <code>master</code> 分支存在。</p>
</li>
<li><p class="startli"><b>删除远程 <code>master</code> 分支</b></p>
<p class="startli">使用以下命令删除远程 <code>master</code> 分支：</p>
<div class="fragment"><div class="line">git push origin --delete master</div>
</div><!-- fragment --><p class="startli">这样可以将远程仓库的 <code>master</code> 分支删除。</p>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md44"></a>
3. 确认远程仓库的默认分支</h2>
<p>在删除远程 <code>master</code> 分支之前，请确保远程仓库的默认分支已切换为 <code>main</code>（或其他分支），否则 GitHub 可能会拒绝删除操作。按照以下步骤修改默认分支：</p>
<ol type="1">
<li>进入 GitHub 仓库页面。</li>
<li>点击右上角的 <b>Settings</b> 。</li>
<li>在左侧菜单中点击 <b>Branches</b> 。</li>
<li>在 <b>Default branch</b> 下拉菜单中选择 <code>main</code> 分支，然后点击 <b>Update</b> 按钮确认更改。</li>
</ol>
<p>完成默认分支切换后，即可安全删除 <code>master</code> 分支。</p>
<h2><a class="anchor" id="autotoc_md45"></a>
4. 检查和删除成功后的状态</h2>
<p>删除本地和远程的 <code>master</code> 分支后，可以使用以下命令确认删除情况：</p>
<ol type="1">
<li><p class="startli"><b>查看本地分支</b></p>
<div class="fragment"><div class="line">git branch</div>
</div><!-- fragment --><p class="startli">确认 <code>master</code> 分支已不在列表中。</p>
</li>
<li><p class="startli"><b>查看远程分支</b></p>
<div class="fragment"><div class="line">git branch -r</div>
</div><!-- fragment --><p class="startli">确认 <code>origin/master</code> 已不在列表中。</p>
</li>
<li><p class="startli"><b>查看远程仓库的分支</b></p>
<p class="startli">还可以直接在 GitHub 仓库的 <b>Branches</b> 页面查看分支情况，确保 <code>master</code> 分支已被成功删除。</p>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md46"></a>
5. 清理远程跟踪分支（可选）</h2>
<p>如果删除远程 <code>master</code> 分支后，本地仍然显示 <code>origin/master</code>，可以使用以下命令清理远程跟踪分支：</p>
<div class="fragment"><div class="line">git remote prune origin</div>
</div><!-- fragment --><p>这样可以移除所有本地已失效的远程跟踪分支。</p>
<h2><a class="anchor" id="autotoc_md47"></a>
完整操作总结</h2>
<ol type="1">
<li><p class="startli"><b>切换到 <code>main</code> 分支：</b></p>
<div class="fragment"><div class="line">git checkout main</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>删除本地 <code>master</code> 分支：</b></p>
<div class="fragment"><div class="line">git branch -d master</div>
</div><!-- fragment --><p class="startli">如果有未合并更改，使用 <code>-D</code> 强制删除：</p>
<div class="fragment"><div class="line">git branch -D master</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>删除远程 <code>master</code> 分支：</b></p>
<div class="fragment"><div class="line">git push origin --delete master</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>确认远程分支删除成功：</b></p>
<div class="fragment"><div class="line">git branch -r</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>清理本地失效的远程跟踪分支（可选）：</b></p>
<div class="fragment"><div class="line">git remote prune origin</div>
</div><!-- fragment --></li>
</ol>
<p>通过这些步骤，你可以成功删除本地和远程的 <code>master</code> 分支，确保项目结构符合你的需求。如果在删除过程中遇到任何错误或问题，请告诉我具体的错误提示，我会进一步帮助你解决。</p>
<h1><a class="anchor" id="autotoc_md48"></a>
清理大体积文件</h1>
<p>有时候你可能会不小心存进体积较大的数据文件，这里教你如何彻底移除大体积文件。</p>
<p>如果你在此之前进行了任务提交但由于大体积文件失败，则可尝试以下方法移除你所有提交历史中的特定文件（大体积文件）</p>
<h2><a class="anchor" id="autotoc_md49"></a>
1. 使用 <code>git filter-branch</code> 移除大文件</h2>
<p><code>git filter-branch</code> 可以帮助你从提交历史中移除特定文件，这样 GitHub 上就不会再包含这些大文件。</p>
<p>首先，移除你提交历史中所有包含大体积文件的版本（这里我拿 <code>output</code> 开头的 <code>txt</code> 文件为例子）： </p><div class="fragment"><div class="line">git filter-branch --force --index-filter &#39;git rm --cached --ignore-unmatch output*.txt&#39; --prune-empty --tag-name-filter cat -- --all</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md50"></a>
2. 清理和压缩 Git 历史</h2>
<p><code>filter-branch</code> 操作会留下很多备份数据。你可以通过以下命令清理这些数据，减少仓库大小： </p><div class="fragment"><div class="line">rm -rf .git/refs/original/</div>
<div class="line">git reflog expire --expire=now --all</div>
<div class="line">git gc --prune=now --aggressive</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md51"></a>
3. 强制推送到 GitHub</h2>
<p>由于 <code>filter-branch</code> 改变了提交历史，你需要**强制推送**这些修改到远程仓库（这里是我的branch的名字）： </p><div class="fragment"><div class="line">git push origin JieYi:JieYi --force</div>
</div><!-- fragment --><p> **注意**：强制推送会重写远程仓库的提交历史，可能会影响到其他开发者。因此，如果其他开发者也在使用这个分支，请事先沟通。 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
